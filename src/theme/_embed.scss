@use "../backend" as *;

// ------------------- EMBED -------------------

// ``Text``
#{c(main visualRefresh)} #{c(chat markup)} code {
    border-radius: 0px;
}

// VC Shiki Code
#{c(main visualRefresh)} #{c(chat markup)} .vc-shiki-code {
    border-radius: cv('hyprcord.radius');
    border: cv('hyprcord.border');
    background: color-mix(in srgb, cv('color.main'), transparent 85%);
}

.vc-shiki-root {
    background-color: transparent !important;
}

// Copy button of shiki code
.vc-shiki-btn {
    background-color: transparent !important;
}

// Media item
#{c(embedsMedia nonVisualMediaItem)} {
    background: color-mix(in srgb, cv('color.main'), transparent 80%);
    border-radius: cv('hyprcord.radius');
}

// Voice message
#{c(embedsMedia voiceMessage rippleContainer)},
#{c(main visualRefresh)} #{c(embedsMedia voiceMessage container)},
#{c(embedsMedia voiceMessage playing)} {
    border-radius: 6px;
    border: none;
}

// Link embed
#{c(main visualRefresh)} #{c(embedsMedia embedFull)} {
    border: cv('hyprcord.border') !important;
    border-radius: cv('hyprcord.radius');
    background: cv('shading.card');
}

// Discord embed
#{c(main visualRefresh)} #{c(embedsMedia discordInviteWrapper)} {
    border-radius: cv('hyprcord.radius');
    border: cv('hyprcord.border');
}

// Image global
#{c(embedsMedia embedMedia)} {
    border-radius: cv('hyprcord.radius');
}

// Image inline and in grid
#{c(embedsMedia inlineMediaEmbed)} #{c(embedsMedia originalLink)},
#{c(embedsMedia mosaicItem)} {
    border: cv('hyprcord.border') !important;
    box-sizing: border-box !important;
    border-radius: cv('hyprcord.radius');
}

// ------------------- MEDIA PREVIEW -------------------
// Top bar (under windows bar)
#{c(embedsMedia mediaPreview topBar)} {
    position: relative;
    top: calc(var(--global-margin) * 2);
}

// Tool buttons
#{c(embedsMedia mediaPreview actionButtons)},
#{c(embedsMedia mediaPreview closeButton)} {
    border: cv('hyprcord.border');
}

// The picture
#{c(embedsMedia mediaPreview mediaArea)} {
    position: relative;
    top: calc(var(--global-margin) + 10px);
    border: cv('hyprcord.border');
    border-radius: cv('hyprcord.radius');
}

#{c(embedsMedia mediaPreview zoomed)} {
    border: cv('hyprcord.border');
    border-radius: cv('hyprcord.radius');
}

#{c(embedsMedia mediaPreview media)} {
    border-radius: cv('hyprcord.radius');
}

// Image Preview
#{c(embedsMedia mediaPreview mediaArea)} img {
    border-radius: cv('hyprcord.radius');
}

// Tag server preview + Emoji server preview
#{c(embedsMedia tagServerPreview)},
#{c(main visualRefresh)} #{c(embedsMedia emojiServerPopout)} {
    border: cv('hyprcord.border');
}