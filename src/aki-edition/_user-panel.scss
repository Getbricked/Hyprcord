@use "../backend" as *;

// --------------------- User Panel ---------------------

// Activity panel border
#{c(main visualRefresh)} #{c(global activityPanel)} {
    border-bottom: cv('hyprcord.border');
}

// Voice chat panel border
#{c(global panels)}:not(:has(#{c(profile nameplateContainer)})) #{c(global voicePanelWrapper)}:has(#{c(global voicePanelContainer)}) {
    border-bottom: 1px solid var(--hsl-main-color);
}

// Voice chat button
#{c(main visualRefresh)} #{c(global voiceButton)}#{c(global voiceButtonColor)} {
    background: rgba(255, 255, 255, 0.089);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

// Soundboard
#{c(main visualRefresh)} #{c(global soundButton)} {
    border: cv('hyprcord.border')
}

// In voice chat streaming button
#{c(main visualRefresh)} #{c(global voiceButton)}#{c(global voiceButtonColor)}#{c(global voiceButtonActive)} {
    background: hsl(from var(--success-color) h s l / 0.4);
    color: var(--button-secondary-text);
    border-color: hsl(from var(--success-color) h s l / 0.5);
}

// Old User Panel
#{c(main visualRefresh)} #{c(global panels)} {
    width: calc(var(--custom-guild-sidebar-width) - var(--custom-guild-list-width) - 2 * cv('hyprcord.margin') - cv('hyprcord.bordersize')) !important;
    left: calc(cv('hyprcord.margin') + 1px * var(--guildsize) + 2 * calc(10px * var(--guildsize) / 50)) !important;
    background: transparent;
}

// Span server list to the bottom
#{c(global guilds)} {
    margin-bottom: 0px;
}

// Nameplate fix
#{c(global panels)} #{c(profile nameplateContainer)} {
    width: 104.1%;
    border-top-right-radius: 8px;
}

// Old buttons on panel
#{c(global audioButtonParent)} #{c(global oldPanelButtonChevron)} {
    display: none;
}

#app-mount #{c(global audioButton)} {
    border-radius: var(--radius-sm);
}

#{c(main themeDark)} #{c(global plateMuted)} {
    --icon-voice-muted: hsla(0, 0%, 100%, .9);
}

#{c(global plateMuted)} {
    background: rgb(from var(--hsl-danger-color) r g b / 90%) !important;
}

#{c(global oldPanelButtons)} {
    gap: 15px;
}

button#{c(global oldPanelButton)},
span#{c(global oldPanelButton)} {
    width: 20px;
}